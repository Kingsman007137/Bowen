# 玻文卡片笔记 - 产品需求文档（PRD）

## 1. 产品概述

### 1.1 产品定位
玻文卡片笔记是一款基于卡片式思维的笔记管理软件，通过毛玻璃风格的卡片组合和连线，帮助用户以非线性方式组织和关联知识。

### 1.2 目标用户
- 需要进行知识管理和思维整理的学习者
- 习惯使用卡片盒笔记法（Zettelkasten）的用户
- 喜欢可视化思维导图的创作者
- 需要灵活组织笔记结构的知识工作者

### 1.3 核心价值
- **灵活组织**：通过卡片的串联和并联，自由构建知识结构
- **可视化关联**：通过连线直观展示知识点之间的关系
- **优雅体验**：毛玻璃风格界面，提供现代化的视觉体验

---

## 2. 功能需求

### 2.1 用户登录
**功能描述**：用户通过登录进入个人笔记空间

**需求详情**：
- 用户可以通过账号密码登录
- 登录后进入个人笔记架（书架）页面
- 每个用户拥有独立的笔记空间
- 支持记住登录状态
- 支持白天/黑夜模式切换

**优先级**：P2（MVP产品暂时伪登录）

---

### 2.2 笔记架（书架）管理

#### 2.2.1 笔记列表展示
**功能描述**：展示用户所有的笔记和文件夹

**需求详情**：
- 以网格形式展示所有笔记和文件夹
- 笔记采用渐变色封面，每个笔记颜色不同
- 文件夹使用统一的平面图标设计（黄色文件夹图标）
- 卡片采用4:5纵向比例，更加紧凑美观
- 显示笔记名称、卡片数量、最后修改时间
- 显示文件夹名称、包含笔记数量
- 支持文件夹分类展示（二级索引）
- 清晰区分文件夹和笔记项
- 鼠标悬停时卡片向上浮起并增强阴影
- 使用渐变透明分割线区分不同区域

**优先级**：P0（核心功能）

#### 2.2.2 新建笔记
**功能描述**：用户可以创建新的笔记

**需求详情**：
- 点击"新建笔记"按钮
- 输入笔记名称
- 可选择所属文件夹（或放在根目录）
- 创建后自动进入该笔记的画布页面

**优先级**：P0（核心功能）

#### 2.2.3 删除笔记
**功能描述**：用户可以删除不需要的笔记

**需求详情**：
- 选择笔记后点击删除按钮
- 弹出确认提示，防止误删
- 删除后笔记从列表中移除

**优先级**：P0（核心功能）

#### 2.2.4 文件夹管理
**功能描述**：通过文件夹组织笔记

**需求详情**：
- 可以新建文件夹
- 可以删除文件夹（需确认）
- 可以重命名文件夹
- 支持将笔记移动到文件夹中
- 文件夹仅支持一级分类（二级索引）

**优先级**：P1（重要功能）

#### 2.2.5 笔记操作
**功能描述**：对笔记进行基础操作

**需求详情**：
- 点击笔记进入画布编辑页面
- 可以重命名笔记
- 可以移动笔记到不同文件夹
- 显示笔记的基本信息（创建时间、修改时间）

**优先级**：P1（重要功能）

---

### 2.3 画布编辑页面

#### 2.3.1 画布展示
**功能描述**：提供无限画布空间用于放置卡片

**需求详情**：
- 画布支持拖拽移动（平移）
- 画布支持缩放（放大/缩小）
- 画布背景简洁，不干扰内容阅读
- 画布可以无限延展

**优先级**：P0（核心功能）

#### 2.3.2 卡片创建
**功能描述**：在画布中创建新卡片

**需求详情**：
- 点击画布空白处或工具栏按钮创建卡片
- 卡片采用毛玻璃风格设计
- 新建卡片默认为空白内容
- 卡片可以自由放置在画布任意位置

**优先级**：P0（核心功能）

#### 2.3.3 卡片编辑
**功能描述**：编辑卡片内容

**需求详情**：
- 鼠标悬停卡片时显示编辑和删除按钮
- 点击编辑按钮，卡片以弹窗形式放大显示
- 弹窗提供标题、内容、图片上传等编辑功能
- 支持富文本编辑（标题、正文、列表等）
- 支持插入图片
- 支持文本格式化（加粗、斜体、下划线等）
- 点击保存按钮后弹窗关闭，回到画布页面
- 点击取消或弹窗外部可关闭编辑

**优先级**：P0（核心功能）

#### 2.3.4 卡片操作
**功能描述**：对卡片进行各种操作

**需求详情**：
- **移动**：拖拽卡片改变位置
- **删除**：选中卡片后删除
- **复制**：复制卡片内容创建新卡片
- **调整大小**：拖拽边缘调整卡片尺寸
- **层级调整**：可以将卡片置于顶层或底层

**优先级**：P0（核心功能）

#### 2.3.5 卡片连线
**功能描述**：通过连线表示卡片之间的关系

**需求详情**：
- 从一个卡片拖拽到另一个卡片创建连线
- 连线可以是直线或曲线
- 连线可以添加箭头表示方向
- 可以删除连线
- 连线随卡片移动自动调整

**优先级**：P0（核心功能）

#### 2.3.6 卡片组合方式
**功能描述**：支持串联和并联的卡片组织方式

**需求详情**：
- **串联**：卡片通过连线形成线性序列（如：A → B → C）
- **并联**：多个卡片连接到同一个卡片（如：A → C，B → C）
- 支持混合使用串联和并联
- 视觉上清晰展示卡片之间的逻辑关系

**优先级**：P0（核心功能）

---

### 2.4 工具栏

#### 2.4.1 工具栏位置
**功能描述**：在界面侧边或顶部提供工具栏

**需求详情**：
- 工具栏固定在界面边缘
- 不遮挡主要内容区域
- 采用图标按钮形式，简洁直观

**优先级**：P0（核心功能）

#### 2.4.2 保存功能
**功能描述**：保存当前笔记的所有修改

**需求详情**：
- 点击保存按钮保存当前状态
- 保存卡片的位置、内容、连线关系
- 显示保存成功的提示
- 支持自动保存（可选）

**优先级**：P0（核心功能）

#### 2.4.3 返回功能
**功能描述**：从画布页面返回笔记架

**需求详情**：
- 点击返回按钮返回笔记架页面
- 如有未保存内容，提示用户保存
- 返回后回到之前的笔记列表位置

**优先级**：P0（核心功能）

#### 2.4.4 其他工具
**功能描述**：提供常用编辑工具

**需求详情**：
- **模式切换**：选择模式、拖动画布模式、连线模式
- **撤销/重做**：支持操作历史回退
- **缩放控制**：放大、缩小画布
- **一键居中**：快速将画布重置到中心位置
- **新建卡片**：快捷创建新卡片
- **模式指示器**：顶部显示当前操作模式

**优先级**：P0（核心功能）

---

## 3. 视觉设计需求

### 3.1 整体风格
- **现代简约**：界面简洁，去除多余装饰
- **平面图标**：使用Material Symbols图标系统，简洁直观
- **柔和配色**：使用舒适的色彩，减少视觉疲劳
- **主题切换**：支持白天模式和黑夜模式切换

### 3.2 笔记架设计
- **网格布局**：笔记和文件夹以网格方式整齐展示
- **渐变封面**：笔记使用多种渐变色封面，美观且易区分
- **文件夹图标**：采用3D立体文件夹图标，黄色渐变，独立元素设计
- **卡片比例**：笔记/文件夹采用4:5的纵向比例，更加紧凑
- **信息分离**：封面/图标与标题/时间信息分离，标题信息独立显示在下方
- **悬停动画**：鼠标悬停时整体向上浮起并增强阴影，无额外边框
- **均匀分割线**：使用统一颜色的细线分割不同区域，不使用渐变

### 3.3 卡片设计（画布页面）
- **毛玻璃效果**：仅卡片采用半透明毛玻璃材质（backdrop-blur）
- **白色/黑色半透明**：白天模式使用白色半透明，黑夜模式使用黑色半透明
- 柔和的阴影增强层次感
- 圆角设计，更加友好
- 细边框，增强层次

### 3.4 卡片编辑
- **弹窗模式**：点击编辑按钮后，卡片以弹窗形式放大显示
- **全屏编辑**：弹窗提供充足的编辑空间
- **保存关闭**：编辑完成点击保存，弹窗消失回到画布
- **背景模糊**：编辑时背景半透明模糊，聚焦编辑内容

### 3.5 工具栏设计
- **紧凑布局**：工具栏尺寸适中，不占用过多空间
- **侧边固定**：工具栏固定在画布左侧，垂直排列
- **分组清晰**：使用分隔线区分不同功能组
- **图标简洁**：使用平面图标，无emoji

### 3.6 交互反馈
- 鼠标悬停时显示编辑/删除按钮
- 按钮有缩放动画反馈
- 连线实时跟随卡片移动
- 主题切换有平滑过渡动画

---

## 4. 交互流程

### 4.1 用户登录流程
```
用户打开应用 → 输入账号密码 → 点击登录 → 进入笔记架页面
```

### 4.2 创建笔记流程
```
笔记架页面 → 点击"新建笔记" → 输入笔记名称 → （可选）选择文件夹 → 确认创建 → 进入画布页面
```

### 4.3 编辑笔记流程
```
笔记架页面 → 点击某个笔记 → 进入画布页面 → 添加/编辑卡片 → 创建连线 → 点击保存 → 返回笔记架
```

### 4.4 卡片操作流程
```
画布页面 → 点击空白处/工具栏创建卡片 → 双击卡片编辑内容 → 拖拽卡片调整位置 → 拖拽创建连线 → 保存
```

---

## 5. 功能优先级总结

### P0 - 核心功能（MVP必须）
- 笔记架展示（书架效果）
- 新建/删除笔记
- 画布展示
- 卡片创建/编辑（弹窗模式）/删除/移动
- 卡片连线
- 保存功能
- 返回功能
- 主题切换（白天/黑夜模式）

### P1 - 重要功能（第一次迭代）
- 文件夹管理
- 笔记重命名/移动
- 卡片复制/调整大小
- 撤销/重做
- 缩放控制

### P2 - 增强功能（后续迭代）
- 用户登录系统
- 搜索功能
- 标签系统
- 导出功能
- 协作功能

---

## 6. 非功能性需求

### 6.1 性能要求
- 画布流畅度：60fps
- 单个笔记支持至少100张卡片
- 页面加载时间 < 2秒

### 6.2 兼容性要求
- 支持主流浏览器（Chrome、Firefox、Safari、Edge）
- 支持桌面端和平板端
- 响应式设计

### 6.3 数据安全
- 用户数据隔离
- 定期自动保存
- 删除操作需二次确认

---

## 7. 后续规划

### 短期目标（1-3个月）
- 完成MVP版本开发
- 实现核心的笔记管理和画布编辑功能
- 完善毛玻璃视觉效果

### 中期目标（3-6个月）
- 添加搜索和标签功能
- 优化性能和用户体验
- 增加导出功能

### 长期目标（6个月以上）
- 支持多人协作
- 移动端应用
- AI辅助功能

